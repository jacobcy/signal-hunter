# Task Orchestrator Framework
## AI项目经理调度系统

### 架构
```
老板（战略层）
    ↓
木木（AI项目经理 - 本Session）
    ↓ 拆分、派遣、监控、整合
AI小队1 ←→ AI小队2 ←→ AI小队3 ←→ ...
（独立sessions_spawn）
```

### 工作流程

#### Step 1: 侦察 Reconnaissance
- 派出分析小队（1个session）
- 生成全景评估报告
- 识别P0/P1/P2问题
- 输出：任务清单 + 优先级

#### Step 2: 规划 Planning
- 按依赖关系拆分为并行任务
- 为每个任务生成Task Description
- 识别潜在冲突（文件/代码范围）
- 输出：任务队列 + 分配策略

#### Step 3: 实施 Execution
- 批量派遣小队（sessions_spawn）
- 设定超时（15-30分钟）
- 并行执行最大化
- 监控：存活检查、进度询问

#### Step 4: 整合 Integration
- 收集所有小队结果
- 解决代码冲突
- 运行最终验证（测试/类型检查）
- 合并到主分支

#### Step 5: 汇报 Reporting
- 高密度一句话汇报
- 格式：做了什么 | 发现什么 | 还差什么

---

### Task Description 模板

```
【角色】AI工程师 - [具体模块]
【目标】[一句话目标]
【项目】/Users/Jacob/clawd
【分支】main
【背景】
- [上下文2-3句]
- [相关文件/模块]

【任务清单】
1. [ ] [具体、可验证的子任务]
2. [ ] [具体、可验证的子任务]
3. [ ] [具体、可验证的子任务]

【约束】
- 每完成一个子任务必须git commit
- 不要修改：[范围外的文件列表]
- 不要删除现有功能

【并行提示】
- 小队A正在修改：[文件A]，避免冲突
- 小队B正在修改：[文件B]，避免冲突

【完成标准】
- 所有子任务完成
- pytest通过
- mypy无错误
- git push到远程
```

---

### 监控检查点

#### 派遣时
- [ ] Task Description完整
- [ ] 超时时间设定
- [ ] 冲突范围明确

#### 执行中（每10分钟）
- [ ] 小队是否存活（sessions_list）
- [ ] 进度询问（sessions_send）
- [ ] 是否遇到阻塞

#### 超时后
- [ ] 收集已完成工作
- [ ] 评估剩余任务
- [ ] 决策：补救/重派/降级

---

### 汇报模板

```
【执行报告】任务：[任务名]
✅ 完成：[做了什么]
⚠️ 发现：[关键问题/洞察]
📋 剩余：[还差什么]
⏱️ 耗时：[X分钟]
💡 建议：[下一步行动]
```

---

## 当前项目状态（实时更新）

### Signal Hunter v0.3.0
- **架构**: Anti-echo diversity processing
- **代码质量**: ⚠️ 2,241 Ruff issues, 88 MyPy errors, 10 failed tests
- **运行状态**: Bot PID 62220, database stable
- **待办**: 代码质量修复、测试覆盖、文档完善

### 活跃任务队列
| 任务ID | 状态 | 负责小队 | 超时 | 备注 |
|--------|------|----------|------|------|
| - | - | - | - | 等待派遣 |

### 已完成任务
| 任务ID | 结果 | 耗时 | 关键产出 |
|--------|------|------|----------|
| - | - | - | - |
